{% extends 'base.html' %}

{% block title %}Directorio medico | SegPrivado{% endblock %}

{% block content %}
<section class="stack public-wide">
    <section>
        <div class="public-panel">
            <h1 class="section-title">Medicos</h1>
            <div class="button-row button-row--top">
                {% if request.user.is_authenticated %}
                <a class="button-link button-link--ghost" href="{% url 'nucleo:home' %}">Panel</a>
                {% else %}
                <a class="button-link button-link--ghost" href="{% url 'login' %}">Acceso</a>
                {% endif %}
            </div>
        </div>
    </section>

    <section class="surface surface--padded">
        <form method="get" class="form-stack">
            <label class="form-label" for="especialidad">Especialidad</label>
            <div class="button-row button-row--stretch">
                <select id="especialidad" name="especialidad" class="field-input field-input--grow">
                    <option value="">Todas</option>
                    <option value="SE">Sin especialidad</option>
                    <option value="DG">Digestivo</option>
                    <option value="MF">Medico de Familia</option>
                    <option value="NE">Neurologo</option>
                    <option value="DT">Dermatologo</option>
                    <option value="TR">Traumatologo</option>
                </select>
                <button type="submit" class="button-link button-link--primary">Filtrar</button>
            </div>
        </form>
    </section>

    {% if data %}
    <section class="surface surface--padded">
        <div class="dashboard-grid">
            {% for e in data %}
            <article class="dashboard-card">
                <span class="dashboard-card__eyebrow">{{ e.get_especialidad_display }}</span>
                <h3 class="dashboard-card__title">{{ e.first_name }} {{ e.last_name }}</h3>
            </article>
            {% endfor %}
        </div>
    </section>
    {% else %}
    <section class="surface surface--padded">
        <div class="feature-item feature-item--empty">
            <strong>Sin resultados.</strong>
        </div>
    </section>
    {% endif %}
</section>
{% endblock %}
